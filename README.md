# expressServerBase

This repo contains a functional template for a web server based on Node.js and Express.

## How to run

To run this server on your own computer, you'll first need to install Node.js and NPM.

Once you have those two command line tools available, enter a command prompt and run the following command to install the required dependencies via NPM.

```
  npm install
```

Once all dependencies are installed, to run the preprocessing Gulp script, install the Gulp command line tool (unless it's already installed on your terminal) and run the script:

```
  npm install --global gulp
  gulp
```

Note if you aren't familiar with Gulp or prefer not to use it, all you need to do is use the public/ folder to store static assets directly, rather than the assets/ folder. In that case, you won't be able to use SASS, LESS, Typescript and other transpiled languages, unless you do the transpiling yourself. IMPORTANT: if you store any assets directly into the public/ folder, do not run the Gulp script as it is provided. This script will OVERWRITE everything in that folder, thus erasing your files.

Finally, after doing the preprocessing, start the server by running the following command:

```
  npm start
```

Once the server is started, you can access it from the same machine by opening a web browser and opening the HTTP address localhost:3000 (with an unmodified copy of the project).

## Directory structure

This project uses a fairly simple and understandable directory structure. However, it's important to understand what goes where, particularly for this kind of project where client-side and server-side code are handled together and both are written in Javascript.

- The server/ directory contains .js files which comprise the server-side functionality. These server-side files can also be organized further into subdirectories if a project grows to the point where it is deemed necessary. The server-side code is interlinked via Node's require() API.
- assets/ holds assets which are, directly or after preprocessing, meant to be served to the client via HTTP. These files include HTML, CSS and derivatives, JS and transpiled languages, and any other assets such as images or PDF files. These assets are processed by the Gulp script found in gulpfile.js, so if one wishes to add assets not included in this demo, be sure to include them in said script as well (unless you don't plan on using Gulp, in which case see the following element).
- public/ is a directory to be generated by the preprocessing script, and as such it isn't included in this repository. This file will hold the files in assets/ after they are processed. If one doesn't want to use the preprocessing scripts, then any assets that should be served statically (including HTML, CSS, JS and others) should be stored in this directory.
- templates/ holds templates used by the templating engine to generate dynamic HTML web pages. The templates used in this project are Handlebars templates, and as such are .hbs files. These files are plaintext files and can be edited with any text editor or IDE.

## Browser compatibility

The included web sites (HTML, CSS and client-side JS scripts) have been tested on a Mozilla Firefox browser, and may not be displayed correctly on other browsers. The Node.js backend will of course not cause browser compatibility problems of any kind. Since the idea of this project is to serve as a template and be modified to suit the users' needs, you are encouraged to make any modifications necessary to ensure backward compatibility of any derived work.

## Included functions

- Serving static files unmodified (ex. static HTML files)
- Preprocessing of static assets (SASS to CSS, minifying JS).
- Adding custom middleware to add additional logic to some or all requests (example: a counter that counts front page hits)
- AJAX calls / API hooks (for GET, POST and all other methods supported by HTTP), returning any kind of data (example: return the front page hits as a JSON object)
- Cron jobs (server-side tasks to be executed periodically) (example: clear the front page hit counter every day at midnight)
- Dynamic/generated web pages using Handlebars templates

## Not included (but possible) functions

- Transpiling Typescript to Javascript. This can easily be added to the Gulp script used (gulpfile.js)
- Conversion of graphics to the more optimal WebP format. Beware browser compatibility issues if you do, though.
- Using middleware to change HTTP request params (for example, cache times)
- Using a different templating engine (if you can find the appropriate NPM package and work it in)

## License

This work is provided under the MIT license, the terms of which are as specified in the included LICENSE file.
